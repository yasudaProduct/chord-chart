# 機能一覧

ChordBook アプリケーションの機能概要です。

## コンセプト

既存のコード掲載サイトの不満（広告、見づらさ、印刷品質）を解消し、オリジナル曲も含めてコード譜を一元管理できるサービス。

---

## 機能一覧

### 実装済み

| 機能 | 説明 | 状態 |
|------|------|------|
| ヘルスチェック | サーバー稼働確認 API | 完了 |
| 楽曲 CRUD | 楽曲の作成・読取・更新・削除 | 基本実装 |
| 認証基盤 | Supabase Auth 連携 | 基盤のみ |

### 開発予定

| 機能 | 説明 | 優先度 |
|------|------|--------|
| コード譜エディター | リアルタイムプレビュー付きエディター | 高 |
| 楽曲共有 | URL による楽曲共有 | 高 |
| ブックマーク | お気に入り楽曲の保存 | 中 |
| 公開検索 | 公開楽曲の検索 | 中 |
| PDF エクスポート | 印刷用 PDF 出力 | 中 |
| トランスポーズ | キー変更 | 中 |
| メトロノーム | 練習用メトロノーム | 低 |
| 自動スクロール | 演奏時の自動スクロール | 低 |

---

## 機能詳細

### 認証・ユーザー管理

**ユーザー登録・ログイン**
- メールアドレス + パスワード
- ソーシャルログイン（Google, GitHub）- 将来対応

**プロフィール**
- 表示名
- アバター画像

---

### 楽曲管理

**楽曲情報**

| フィールド | 説明 |
|-----------|------|
| タイトル | 曲名（必須） |
| アーティスト | アーティスト名 |
| キー | 原曲のキー（C, Am 等） |
| BPM | テンポ |
| 拍子 | 4/4, 3/4 等 |

**楽曲一覧**
- 自分の楽曲を一覧表示
- 更新日時でソート
- 検索・フィルター

**楽曲詳細**
- コード譜の表示
- メタ情報の表示
- 編集・削除

---

### コード譜エディター

**セクション管理**
- イントロ、Aメロ、サビ等のセクション
- セクションの追加・削除・並べ替え

**入力モード**

| モード | 説明 |
|--------|------|
| 歌詞+コード | 歌詞の上にコードを配置 |
| コードのみ | 小節ごとにコードを配置 |

**歌詞+コードモード**
```
C        G        Am       F
きょうも いちにち がんばった
```

**コードのみモード**
```
| C | G | Am | F |
| C | G | F  | G |
```

**プレビュー**
- リアルタイムプレビュー
- 印刷プレビュー

---

### 共有機能

**公開設定**

| 設定 | 説明 | ログインなしで閲覧 |
|------|------|------------------|
| 非公開 | 自分のみ | × |
| URL 共有 | URL を知っている人のみ | ○（共有リンク経由） |
| 公開 | 全ユーザーに公開 | ○（楽曲一覧・検索から） |

**共有リンク（URL共有）**
- 一意の URL を生成（`/share/:token`）
- 有効期限の設定（オプション）
- ログインなしで閲覧可能
- 閲覧のみ（編集にはログインが必要）

---

### ブックマーク

- 他ユーザーの公開楽曲をブックマーク
- ブックマーク一覧表示
- クイックアクセス

---

### 検索

**検索対象**
- タイトル
- アーティスト名
- キー

**フィルター**
- 公開楽曲のみ
- 自分の楽曲
- ブックマーク

---

### エクスポート

**PDF エクスポート**
- A4 サイズ
- 印刷に最適化
- ヘッダー（タイトル、アーティスト）

---

### 演奏支援

**トランスポーズ**
- キーを変更（+1, -1 等）
- カポ位置の計算

**メトロノーム**
- BPM に合わせたクリック音
- 拍子に対応

**自動スクロール**
- BPM に合わせた自動スクロール
- 速度調整

---

## 画面一覧

| 画面 | パス | 認証 | 説明 |
|------|------|------|------|
| ホーム | / | 不要 | ランディングページ |
| ログイン | /login | 不要 | ログイン画面 |
| 登録 | /register | 不要 | ユーザー登録画面 |
| 楽曲一覧 | /songs | 不要 | 楽曲一覧（未認証は公開楽曲のみ） |
| 楽曲詳細 | /songs/:id | 部分的 | 楽曲の詳細・表示（公開楽曲は認証不要） |
| 楽曲作成 | /songs/new | 必要 | 新規楽曲作成 |
| エディター | /editor/:id | 必要 | コード譜編集 |
| 検索 | /search | 不要 | 公開楽曲検索 |
| 共有楽曲表示 | /share/:token | 不要 | 共有リンクからの閲覧 |
| プロフィール | /profile | 必要 | ユーザー設定 |

---

## 技術的な機能

### オフライン対応（将来）

- PWA 化
- ローカルストレージにキャッシュ
- オフライン編集 → オンライン時に同期

### レスポンシブデザイン

- デスクトップ: 2カラムレイアウト
- タブレット: 1カラム + サイドドロワー
- モバイル: 1カラム

---

## 関連ドキュメント

- [システム概要](../architecture/overview.md) - アーキテクチャ
- [API仕様](../api/endpoints.md) - REST API
- [データベース設計](../database/er-diagram.md) - データモデル
