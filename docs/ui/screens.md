# 画面一覧

ChordBook アプリケーションの全画面仕様です。

---

## 画面一覧サマリー

| No | 画面名 | パス | 認証 | 説明 |
|----|--------|------|------|------|
| 1 | ホーム | `/` | 不要 | ランディングページ |
| 2 | ログイン | `/login` | 不要 | ユーザーログイン |
| 3 | 新規登録 | `/register` | 不要 | ユーザー登録 |
| 4 | 楽曲一覧 | `/songs` | 必要 | 自分の楽曲一覧 |
| 5 | 楽曲詳細 | `/songs/:id` | 部分的 | 楽曲の閲覧 |
| 6 | 楽曲新規作成 | `/songs/new` | 必要 | 楽曲メタ情報の入力 |
| 7 | エディタ | `/editor/:id` | 必要 | コード譜の編集 |
| 8 | 検索 | `/search` | 不要 | 公開楽曲の検索 |
| 9 | プロフィール | `/profile` | 必要 | ユーザー設定 |
| 10 | 共有楽曲表示 | `/share/:token` | 不要 | 共有リンクからの閲覧 |

---

## 1. ホーム画面

**パス**: `/`
**認証**: 不要

### 概要
サービスの紹介とユーザーを招き入れるランディングページ。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]                    [ログイン] [新規登録]   │ ← ヘッダー
├──────────────────────────────────────────────────┤
│                                                  │
│         ChordBook                                │
│         コード譜を、もっと自由に                   │
│                                                  │
│         [無料で始める]                            │
│                                                  │
├──────────────────────────────────────────────────┤
│  特徴1: 直感的なエディタ                          │
│  特徴2: どこでもアクセス                          │
│  特徴3: 簡単共有                                 │
├──────────────────────────────────────────────────┤
│                    フッター                       │
└──────────────────────────────────────────────────┘
```

### アクション
- 「無料で始める」→ 新規登録画面へ
- 「ログイン」→ ログイン画面へ
- ログイン済みの場合は楽曲一覧へリダイレクト

---

## 2. ログイン画面

**パス**: `/login`
**認証**: 不要（ログイン済みはリダイレクト）

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]                                           │
├──────────────────────────────────────────────────┤
│                                                  │
│              ログイン                             │
│                                                  │
│     メールアドレス: [________________]            │
│     パスワード:     [________________]            │
│                                                  │
│     □ ログイン状態を保持                          │
│                                                  │
│     [ログイン]                                    │
│                                                  │
│     ──────── または ────────                      │
│                                                  │
│     [G] Google でログイン                         │
│     [GitHub] GitHub でログイン                    │
│                                                  │
│     アカウントをお持ちでない方は [新規登録]         │
│     パスワードを忘れた方は [こちら]                │
│                                                  │
└──────────────────────────────────────────────────┘
```

### フォーム項目

| 項目 | 必須 | バリデーション |
|------|------|---------------|
| メールアドレス | ○ | メール形式 |
| パスワード | ○ | 8文字以上 |

### アクション
- ログイン成功 → 楽曲一覧画面へ
- 「新規登録」→ 新規登録画面へ
- 「パスワードを忘れた方」→ パスワードリセット画面へ

---

## 3. 新規登録画面

**パス**: `/register`
**認証**: 不要

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]                                           │
├──────────────────────────────────────────────────┤
│                                                  │
│              アカウント作成                        │
│                                                  │
│     表示名:         [________________]            │
│     メールアドレス: [________________]            │
│     パスワード:     [________________]            │
│     パスワード確認: [________________]            │
│                                                  │
│     □ 利用規約に同意する                          │
│                                                  │
│     [アカウント作成]                              │
│                                                  │
│     すでにアカウントをお持ちの方は [ログイン]      │
│                                                  │
└──────────────────────────────────────────────────┘
```

### フォーム項目

| 項目 | 必須 | バリデーション |
|------|------|---------------|
| 表示名 | ○ | 2〜20文字 |
| メールアドレス | ○ | メール形式、未登録 |
| パスワード | ○ | 8文字以上、英数字混合 |
| パスワード確認 | ○ | パスワードと一致 |
| 利用規約同意 | ○ | チェック必須 |

---

## 4. 楽曲一覧画面

**パス**: `/songs`
**認証**: 必要

### 概要
ユーザーが作成した楽曲の一覧を表示。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]     [検索] [ブックマーク] [ユーザーメニュー]│
├──────────────────────────────────────────────────┤
│                                                  │
│  マイ楽曲                         [+ 新規作成]   │
│                                                  │
│  [検索: _______________] [並び替え: 更新日時 ▼]  │
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │ ♪ 曲名1                                    │ │
│  │   アーティスト名 | Key: C | BPM: 120       │ │
│  │   更新: 2026/02/01                [編集][…]│ │
│  └────────────────────────────────────────────┘ │
│  ┌────────────────────────────────────────────┐ │
│  │ ♪ 曲名2                                    │ │
│  │   アーティスト名 | Key: Am | BPM: 90       │ │
│  │   更新: 2026/01/30                [編集][…]│ │
│  └────────────────────────────────────────────┘ │
│                                                  │
│  [もっと見る]                                    │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 機能
- 楽曲カードの表示（タイトル、アーティスト、キー、BPM、更新日）
- 検索フィルター
- 並び替え（更新日時、作成日時、タイトル順）
- 新規作成ボタン
- 各楽曲のコンテキストメニュー（編集、複製、削除、共有）

### アクション
- 楽曲カードクリック → 楽曲詳細画面へ
- 「編集」→ エディタ画面へ
- 「+ 新規作成」→ 楽曲新規作成画面へ

---

## 5. 楽曲詳細画面

**パス**: `/songs/:id`
**認証**: 部分的（自分の楽曲 or 公開楽曲）

### 概要
楽曲のコード譜を閲覧する画面。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [← 戻る]                [共有] [編集] [印刷/PDF] │
├──────────────────────────────────────────────────┤
│                                                  │
│  曲名タイトル                                     │
│  アーティスト名                                   │
│  ─────────────────────────────────────────────   │
│  Key: C  |  BPM: 120  |  4/4拍子                │
│                                                  │
├──────────────────────────────────────────────────┤
│  [Intro]                                         │
│  | C | G | Am | F |                              │
│                                                  │
│  [Verse 1]                                       │
│  C        G        Am       F                    │
│  きょうも いちにち がんばった                      │
│                                                  │
│  [Chorus]                                        │
│  F        G        C        Am                   │
│  さあ うたおう みんなで                            │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 機能
- コード譜の表示
- トランスポーズ（キー変更）
- PDF エクスポート / 印刷
- 共有リンク生成
- ブックマーク追加（他ユーザーの楽曲の場合）

---

## 6. 楽曲新規作成画面

**パス**: `/songs/new`
**認証**: 必要

### 概要
新規楽曲のメタ情報を入力する画面。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [← キャンセル]                                   │
├──────────────────────────────────────────────────┤
│                                                  │
│              新しい楽曲を作成                     │
│                                                  │
│     曲名 *:        [________________]            │
│     アーティスト:  [________________]            │
│     キー:          [C ▼]                         │
│     BPM:           [120        ]                 │
│     拍子:          [4/4 ▼]                       │
│                                                  │
│     [エディタを開く]                              │
│                                                  │
└──────────────────────────────────────────────────┘
```

### フォーム項目

| 項目 | 必須 | デフォルト |
|------|------|-----------|
| 曲名 | ○ | - |
| アーティスト | - | - |
| キー | - | C |
| BPM | - | 120 |
| 拍子 | - | 4/4 |

### アクション
- 「エディタを開く」→ 楽曲を保存してエディタ画面へ
- 「キャンセル」→ 楽曲一覧へ戻る

---

## 7. エディタ画面

**パス**: `/editor/:id`
**認証**: 必要

### 概要
コード譜を編集するメイン画面。PC優先設計、Notion風ブロックベースUI。

### 全体レイアウト

```
┌───────────────────────────────────────────────────────────────────┐
│ [ロゴ] 曲名        [保存中...] [元に戻す][やり直す] [プレビュー]  │
├───────────────────────────────────────────────────────────────────┤
│                              │                                    │
│  【エディタエリア】           │   【プレビューエリア】              │
│                              │                                    │
│  ┌─ メタ情報 ──────────────┐ │   曲名タイトル                     │
│  │ 曲名: [_____________]   │ │   アーティスト名                   │
│  │ アーティスト: [______]  │ │   Key: C | BPM: 120               │
│  │ キー: [C▼] ✓自動検出   │ │   ─────────────────               │
│  │ BPM: [120] 拍子: [4/4▼]│ │                                    │
│  └─────────────────────────┘ │   [Intro]                          │
│                              │   | C | G | Am | F |               │
│  ┌─ Intro [歌詞+コード▼] ──┐ │                                    │
│  │ ≡ コードレーン:         │ │   [Verse 1]                        │
│  │   [C]    [G]   [Am]  [F]│ │   C        G                       │
│  │ 歌詞行:                 │ │   きょうも いちにち                 │
│  │   (イントロのため空)     │ │                                    │
│  │        [+ 行を追加]     │ │                                    │
│  └─────────────[複製][削除]┘ │                                    │
│                              │                                    │
│  ┌─ Verse 1 ───────────────┐ │                                    │
│  │ ...                     │ │                                    │
│  └─────────────────────────┘ │                                    │
│                              │                                    │
│  [+ セクションを追加]         │                                    │
│                              │                                    │
├──────────────────────────────┴────────────────────────────────────┤
│ ステータス: 保存済み | 推定キー: C | コード数: 24                  │
└───────────────────────────────────────────────────────────────────┘
```

### ヘッダー部

| 要素 | 説明 |
|------|------|
| ロゴ | クリックで楽曲一覧へ |
| 曲名表示 | 現在編集中の曲名 |
| 保存ステータス | 「保存済み」「保存中...」「未保存の変更あり」|
| 元に戻す / やり直す | Undo / Redo ボタン |
| プレビュートグル | プレビューエリアの表示/非表示 |

### メタ情報セクション

| 項目 | 説明 |
|------|------|
| 曲名 | 必須入力 |
| アーティスト | 任意入力 |
| キー | ドロップダウン選択 + 自動検出チェックボックス |
| BPM | 数値入力 |
| 拍子 | ドロップダウン（4/4, 3/4, 6/8 等）|

### セクション管理

各セクションはNotion風のブロックとして管理。

**セクションヘッダー**:
- ドラッグハンドル（≡）で並べ替え
- セクション名編集（Intro, Verse 1, Chorus 等）
- 表示形式切替（歌詞+コード / 小節形式）
- 複製ボタン
- 削除ボタン

**歌詞+コード形式**:
```
┌────────────────────────────────────────────────┐
│ コードレーン:  [C]      [G]      [Am]     [F]  │  ← コードチップ（ドラッグ移動可）
│ 歌詞行:        きょうも  いちにち  がんばった   │  ← テキスト入力
│                                    [+ 行追加]  │
└────────────────────────────────────────────────┘
```

**小節形式**:
```
┌────────────────────────────────────────────────┐
│ | C    | G    | Am   | F    |                  │
│ | C    | G    | F    | G    |                  │
│                              [+ 小節を追加]    │
└────────────────────────────────────────────────┘
```

### コード入力・補完

コード入力時にポップオーバーで補完候補を表示。

```
┌─────────────────────────────┐
│ A                           │ ← 入力中
├─────────────────────────────┤
│ Am     完全一致             │
│ A      前方一致（グレー）    │
│ A7     前方一致（グレー）    │
│ Am7    前方一致（グレー）    │
├─────────────────────────────┤
│ Dm     次コード予測（緑）    │  ← 頻出パターンから予測
│ E      次コード予測（緑）    │
├─────────────────────────────┤
│ F#m7-5 代理コード（オレンジ） │  ← 音楽理論に基づく提案
└─────────────────────────────┘
```

### 自動保存

- 編集後2秒間操作がなければ自動保存
- ステータスバーに保存状態を表示
- Ctrl+S で即座に保存

### キーボードショートカット

| ショートカット | 機能 |
|---------------|------|
| Ctrl+S | 保存 |
| Ctrl+Z | 元に戻す |
| Ctrl+Shift+Z | やり直す |
| Tab | 次の入力位置へ移動 |
| Escape | ポップオーバーを閉じる |

### ステータスバー

```
保存済み | 推定キー: C | コード数: 24
```

---

## 8. 検索画面

**パス**: `/search`
**認証**: 不要

### 概要
公開されている楽曲を検索する画面。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]     [検索] [ブックマーク] [ログイン]        │
├──────────────────────────────────────────────────┤
│                                                  │
│  楽曲を検索                                       │
│                                                  │
│  [曲名・アーティストで検索 _______________] [🔍] │
│                                                  │
│  フィルター: [キー: すべて ▼] [ジャンル: すべて▼] │
│                                                  │
│  検索結果: 123件                                 │
│                                                  │
│  ┌────────────────────────────────────────────┐ │
│  │ ♪ 曲名1 - アーティスト名                    │ │
│  │   Key: C | BPM: 120 | 作成者: ユーザー名    │ │
│  │                               [詳細] [📑]   │ │
│  └────────────────────────────────────────────┘ │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 機能
- フリーワード検索（曲名、アーティスト名）
- フィルター（キー、ジャンル等）
- 検索結果のページネーション
- ブックマーク追加

---

## 9. プロフィール画面

**パス**: `/profile`
**認証**: 必要

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ロゴ]                            [ユーザーメニュー]│
├──────────────────────────────────────────────────┤
│                                                  │
│  プロフィール設定                                 │
│                                                  │
│  [アバター画像]                                   │
│  [画像を変更]                                     │
│                                                  │
│  表示名: [________________]                       │
│  メール: user@example.com（変更不可）             │
│                                                  │
│  [変更を保存]                                     │
│                                                  │
│  ─────────────────────────────────────────────   │
│                                                  │
│  パスワード変更                                   │
│  現在のパスワード: [________________]             │
│  新しいパスワード: [________________]             │
│  確認:             [________________]             │
│                                                  │
│  [パスワードを変更]                               │
│                                                  │
│  ─────────────────────────────────────────────   │
│                                                  │
│  アカウント削除                                   │
│  [アカウントを削除する]                           │
│                                                  │
└──────────────────────────────────────────────────┘
```

---

## 10. 共有楽曲表示画面

**パス**: `/share/:token`
**認証**: 不要

### 概要
共有リンクからアクセスした際の閲覧専用画面。

### 構成要素

```
┌──────────────────────────────────────────────────┐
│ [ChordBook ロゴ]            [ログインして編集]    │
├──────────────────────────────────────────────────┤
│                                                  │
│  曲名タイトル                                     │
│  アーティスト名                                   │
│  ─────────────────────────────────────────────   │
│  Key: C  |  BPM: 120  |  4/4拍子                │
│  共有者: ユーザー名                               │
│                                                  │
│  [Intro]                                         │
│  | C | G | Am | F |                              │
│                                                  │
│  ...                                             │
│                                                  │
├──────────────────────────────────────────────────┤
│  ChordBook で自分のコード譜を作成しませんか？      │
│  [無料で始める]                                   │
└──────────────────────────────────────────────────┘
```

### 機能
- コード譜の閲覧（読み取り専用）
- トランスポーズ
- 印刷 / PDF エクスポート
- ブックマーク追加（ログイン時）

---

## デザイン仕様

### カラースキーム

| 用途 | カラーコード |
|------|-------------|
| プライマリ | `#5c6bc0`（紫系） |
| 成功/予測 | `#4caf50`（緑） |
| 警告/代理 | `#ff9800`（オレンジ） |
| エラー | `#f44336`（赤） |
| 背景 | `#ffffff` |
| テキスト | `#212121` |
| サブテキスト | `#757575` |

### フォント

| 用途 | フォント |
|------|---------|
| 本文 | システムフォント |
| コード・歌詞 | 等幅フォント（Consolas, Monaco 等）|

### レスポンシブ対応

| 画面サイズ | レイアウト |
|-----------|-----------|
| デスクトップ（1024px〜）| 2カラム（エディタ + プレビュー）|
| タブレット（768px〜1023px）| 1カラム + サイドドロワー |
| モバイル（〜767px）| 1カラム（プレビュー切替式）|

---

## 関連ドキュメント

- [画面遷移図](./screen-flow.md) - 画面間の遷移フロー
- [機能一覧](../features/overview.md) - 機能詳細
- [フロントエンド設計](../architecture/frontend.md) - 技術実装
